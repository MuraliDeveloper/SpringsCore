package lifecycle3

how to defone global init method and also kind of interceptor:

steps:
1.create class that implements BeanPostProcessor interface and override postProcessAfterInitialization() and postProcessBeforeInitialization().
2.Register in springs.xml



import org.springframework.beans.BeansException;
import org.springframework.beans.factory.config.BeanPostProcessor;

public class MyBeanPostProcessor implements BeanPostProcessor {

	public Object postProcessAfterInitialization(Object obj, String beanId) throws BeansException {
		System.out.println("Inside postProcessAfterInitialization method for-" + beanId);
		return obj;
	}

	public Object postProcessBeforeInitialization(Object obj, String beanId) throws BeansException {
		System.out.println("Inside postProcessBeforeInitialization for-" + beanId);
		return obj;
	}
}



import org.springframework.beans.factory.InitializingBean;

public class AccountService  {

	private String dbName;

	private String dbName1;

	public String getDbName1() {
		return dbName1;
	}
	public void setDbName1(String dbName1) {
		System.out.println(" setDbName1 ");
		this.dbName1 = dbName1;
	}
	public String getDbName() {
		return dbName;
	}
	public void setDbName(String dbName) {
		System.out.println(" setDbName ");
		this.dbName = dbName;
	}

	public AccountService() {
		System.out.println("ac obj creted");
	}
	public void save() {
		System.out.println("account- save");
	}
 }




public class ProductService {

	public ProductService(){
		System.out.println("prodservice constr");
	}
	public void save(){
		//saving to db
		System.out.println("saving ::");
	}
}


<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">

	<bean id="aService" 
	class="lifecycle3.AccountService">
		<property name="dbName" value="SQLserver" />
		<property name="dbName1" value="oracle" />
	</bean>

	<bean id="pService" 
	class="lifecycle3.ProductService" />

	<bean id="bService" 
	class="lifecycle3.MyBeanPostProcessor" 
	/> 

</beans>


